.Dd May 26, 2024
.Dt SNDFILE-WAVEFORM 1
.Os
.Sh NAME
.Nm sndfile-waveform
.Nd generate a waveform image
.Sh SYNOPSIS
.Nm
FIXME
.Ar soundfile
.Ar pngfile
.Sh DESCRIPTION
.Nm
creates a PNG image depicting the waveform of an audio file.
Peak-signal and RMS values can be displayed in the same plot,
where the horizontal axis always represents time.
.Pp
The vertical axis can be plotted logarithmically,
and the signal can optionally be rectified.
The time axis annotation unit is either seconds,
audio frames or timecode using broadcast-wave time reference metadata.
.Nm
can plot individual channels, reduce the file to mono,
or plot all channels in a vertical arrangement.
Colours (ARGB) and image\- or waveform geometry can be freely specified.
.Pp
The options are as follows.
.Pp
.Bl -tag -compact -width num/denXXX
.It Fl A Ar argb
Text and border colour, 0xffffffff by default.
.It Fl b
Display a border with annotations.
.It Fl B Ar argb
Background colour, 0x8099999f by default.
.It Fl c Ar chan
Channels to plot: a positive number picks a spcific channel,
a negative number renders all channels vertically separated,
and zero (the default) means mix to mono.
.It Fl C Ar argb
Colour the center line, 0x4cffffff by default.
.It Fl F Ar argb
Foreground colour, 0xff333333 by default.
.It Fl g Ar WxH
Image geometry, 800x192 by default.
.It Fl G Ar argb
Border and annotation colour, 0xb3ffffff by default.
.It Fl h
Display a help message and exit.
.It Fl l
Use a logarithmic scale.
.It Fl -no-peak
Only draw RMS signal using foreground colour.
.It Fl -no-rms
Only draw signal peaks.
.It Fl r
Rectify the waveform.
.It Fl R Ar argb
RMS colour, 0xffb3b3b3 by default.
.It Fl s
Zoom the amplitude axis, map max signal to height.
.It Fl S Ar num
Separate channels by
.Ar num
pixels, 12 by default.
.It Fl t Ar num Ns / Ns Ar den
Use timecode the time axis;
denominator defaults to one.
With a negative value, audioframes are used.
.It Fl T Ar offset
Override the BWF time reference with an
.Ar offset
in audioframes;
only used with the
.It Fl t
option.
.It Fl O Ar num
Outer border width, 1.0 by default.
.It Fl V
Display version information and exit.
.It Fl W
Geometry is given by the waveform
and the number of channels.
.El
.Sh SEE ALSO
.Lk https://github.com/libsndfile/sndfile-tools/
.Sh AUTHORS
.An Erik de Castro Lopo Aq Mt erikd@mega-nerd.com
.An Robin Gareus Aq Mt robin@gareus.org

.Dd May 26, 2024
.Dt SNDFILE-SPECTROGRAM 1
.Os
.Sh NAME
.Nm sndfile-spectrogram
.Nd generate the spectrogram of a sound file
.Sh SYNOPSIS
.Nm
.Ar file
.Ar width
.Ar height
.Ar pngfile
.Sh DESCRIPTION
.Nm
creates a spectrogram PNG file from a given sound file.
The spectrogram image will be of the given width and height.
The input file is read using libsndfile,
the spectrogram is calculated with the help of fftw
and the output file is rendered using libcairo.
.Pp
The options are as follows.
.Pp
.Bl -tag -compact -width dynrangexnumxxx
.It Fl h
Print a help message and exit.
.It Fl -dyn-range Ns = Ns Ar num
The dynamic range, 180 dB by default.
.It Fl -no-border
Drop the border, scales, heat map and title.
.It Fl -min-freq Ns = Ns num
Minimum frequency in the output.
.It Fl -max-freq Ns = Ns num
Maximum frequency in the output.
.It Fl -fft-freq Ns = Ns num
The lowest resolvable frequency and
the height of each band in the linear spectrogram.
Lower values increase frequency resolution
but smear the output horizontally
and higher values improve the temporal definition
but decrease the distinction between the lowest frequencies.
.It Fl -log-freq
Use a logarithmic frequency scale.
.It Fl -gray-scale
Output gray pixels instead of a heat map.
.It Fl -kaiser
Use a Kaiser window function (the default).
.It Fl -rectangular
Use a rectangular window function.
.It Fl -nuttall
Use a Nuttall window function.
.It Fl -hann
Use a Hann window function.
.El
.Sh SEE ALSO
.Lk http://libsndfile.github.io/libsndfile/
.Lk http://fftw.org/
.Lk https://www.cairographics.org/
.Sh AUTHORS
.An Erik de Castro Lopo Aq Mt erikd@mega-nerd.com
